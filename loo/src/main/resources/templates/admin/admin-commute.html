<!DOCTYPE html>
<html lang="ko">
<head th:replace="head :: head"></head>
<head>
	<title>근태관리</title>
	
</head>

<body>
	<div class="wrapper">
		<!-- 사이드 메뉴 -->
		<nav id="sidebar" class="sidebar js-sidebar" th:if="${session.loginMember}">
			<div th:replace="sidebar :: login"></div>
		</nav>
		<!-- 상단 드롭다운 -->
		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg" th:if="${session.loginMember}">
				<a class="sidebar-toggle js-sidebar-toggle">
					<i class="hamburger align-self-center"></i>
    			</a>
				<div th:replace="dropdown :: login"></div>
			</nav>

			<main class="content">
				<div class="container-fluid p-0">


					<div class="card">
						<div class="card-body">
							<div class="row">
								<div class="card-header">
									<h5 class="card-title mb-0">출/퇴근기록</h5>
								</div>
							  <table class="table">
								  <tbody>
							    	<tr class="text-center">
							      		<th>No</th>
							      		<th>성함</th>
									    <th>날짜</th>
									    <th>출근시간</th>
									    <th>퇴근시간</th>
									    <th>출퇴근 상태</th>
									</tr>
									<tr th:each="commute : ${commutes}">
										<input type="hidden" name="commute_date" th:value="${commute.commute_date}">
									    <td class="text-center" th:text="${commuteStat.count}"></td>
		   								<td class="text-center" th:text="${commute.member_name}"></td>
		     							<td class="text-center" th:text="${#temporals.format(commute.commute_date, 'yyyy-MM-dd')}"></td>
		     							<td class="text-center">
			                                <input class="form-control form-control-lg" type="datetime-local" min="maxTime()"
			                                		name="attendance_time" th:value="${#temporals.format(commute.attendance_time , 'yyyy-MM-dd HH:mm:ss')}"/>
			                            </td>
			                            <td class="text-center">
			                                <input class="form-control form-control-lg" type="datetime-local" 
			                                		name="leave_time" th:value="${#temporals.format(commute.leave_time, 'yyyy-MM-dd HH:mm:ss')}"/>
			                            </td>
		   								<td class="text-center">
									    <span th:if="${commute.commute_status == '1'}">출근</span>
									    <span th:if="${commute.commute_status != '1'}">퇴근</span>
										</td>
									</tr>
							    </tbody>
							  </table>
							  <p>
							  <div class="text-center">
							    <input type="button" class="btn btn-primary btn-sm" onclick="location.href='/'" value="메인으로">
							  </div>
							</div>
						</div>
					</div>

				</div>
			</main>

		</div>
	</div>

	<script src="/js/app.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script>
		function maxTime(){
			var commute_date = $('input[name=commute_date]').val();
			console.log(commute_date);
			
			//document.getElementById("Date").setAttribute("max", commute_date);
			//document.getElementById("Date").setAttribute("min", commute_date);
		
			return commute_date;
		}
		
		
	</script>
	
	
</body>

</html>